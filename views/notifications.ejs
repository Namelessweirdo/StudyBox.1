<%- include("includes/header", { "title": "Notifications" }) %>

<div class="container" style="margin-top: 50px;">
    <h1>Your Notifications</h1>

    <% if (notifications.length > 0) { %>
        <ul>
            <% notifications.forEach(function(notification) { %>
                <li>
                    <div class="notification-item">
                        <p><%= notification.message %></p>
                        <p><small>Received on: <%= new Date(notification.createdAt).toDateString() %></small></p>
                    </div>
                    <form method="POST" action="/MarkNotificationRead/<%= notification._id %>" style="display: inline;">
                        <button type="submit" class="btn btn-secondary btn-sm">Mark as Read</button>
                    </form>
                </li>
            <% }) %>
        </ul>
    <% } else { %>
        <p>No new notifications.</p>
    <% } %>
</div>

<%- include("includes/footer") %>
